<!--
Name: Revelle Williams
CIS 218: Django Project
Date: October 10, 2024
-->
{% extends "base.html" %}

{% block content %}
<h1 class="mb-4">All Restaurants</h1>
<div class="row">
    {% for restaurant in restaurants %}
        <div class="col-md-6 mb-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">
                        <a href="{% url 'restaurant_detail' restaurant.pk %}">{{ restaurant.name }}</a>
                    </h5>
                    {% if restaurant.avg_rating is not None %}
                        <p class="card-text">
                            Average rating: {{ restaurant.avg_rating|floatformat:1 }}
                            ({{ restaurant.reviews.count }} review{{ restaurant.reviews.count|pluralize }})
                        </p>
                    {% else %}
                        <p class="card-text">No ratings yet</p>
                    {% endif %}
                </div>
            </div>
        </div>
    {% empty %}
        <div class="col">
            <p>No restaurants available.</p>
        </div>
    {% endfor %}
</div>
{% endblock %}